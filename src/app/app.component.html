<div class="wrapper">
  <div class="choice">
    <label for="country">Search and choose country from list</label>
    <input
      class="country"
      type="text"
      placeholder="Country"
      id="country"
      matInput
      type="text"
      [matAutocomplete]="autoCountry"
      [(ngModel)]="searchCountry"
      (input)="reloadInput($event)"
    >

    <mat-autocomplete #autoCountry="matAutocomplete" class="autocomplete">
      <mat-option
        *ngFor="let country of countries | searchCountry:searchCountry"
        [value]="country.country"
        (click)="changeCountry(country.country)"
      >
        {{country.country}}
      </mat-option>
    </mat-autocomplete>
  </div>
  <div class="choice">
    <label for="city">Search and choose city from list</label>
    <input
      class="country"
      type="text"
      placeholder="City"
      id="city"
      matInput
      type="text"
      [matAutocomplete]="autoCity"
      [(ngModel)]="searchCity"
    >
    <mat-autocomplete #autoCity="matAutocomplete" class="autocomplete">
      <div *ngIf="Country">
        <mat-option
          *ngFor="let currentCity of Country.cities | searchCity:searchCity"
          [value]="currentCity"
          (click)="City = currentCity"
        >
          {{currentCity}}
        </mat-option>
        <mat-option *ngIf="!(Country.cities | searchCity:searchCity).length" disabled>No city available</mat-option>
      </div>
    </mat-autocomplete>
  </div>
  <button (click)="getWeather()">Search</button>
  <div class="weather flex" *ngIf="Weather" style="justify-content: space-evenly">
    <div class="flex">
      <img
        src="https://openweathermap.org/img/wn/{{Weather.weather[0].icon}}@2x.png"
        class="weather-icon"
      >
      <h1 class="weather-title temp">{{Weather.main.temp | number: '1.0-0'}}Â°C</h1>
    </div>
    <div>
      <h1 class="weather-title">{{Weather.name}}</h1>
      <p class="weather-info">Wind: {{Weather.wind.speed | number: '1.0-0'}}m/s</p>
    </div>
  </div>
</div>


